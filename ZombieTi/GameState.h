#pragma once
#ifndef GAME_STATE_H
#define GAME_STATE_H

#include "SceneMainMenu.h"

////////////////////////////////////////////////////////////
/// Singleton main class of the game
////////////////////////////////////////////////////////////
class GameState
{
public:
	static GameState* getInstance();

	////////////////////////////////////////////////////////////
	/// Constructor to disable multiple instance
	////////////////////////////////////////////////////////////
	GameState(GameState& instance) = delete;

	////////////////////////////////////////////////////////////
	/// Constructor to disable multiple instance
	////////////////////////////////////////////////////////////
	void operator=(GameState instance) = delete;

	////////////////////////////////////////////////////////////
	/// Start the game
	////////////////////////////////////////////////////////////
	void run();

private:
	GameState();
	~GameState();

	static GameState* _instance;

	////////////////////////////////////////////////////////////
	/// Main Window
	////////////////////////////////////////////////////////////
	sf::RenderWindow _window;

	////////////////////////////////////////////////////////////
	/// Name of the game
	////////////////////////////////////////////////////////////
	static std::string NAME;

	////////////////////////////////////////////////////////////
	/// Time Clock
	////////////////////////////////////////////////////////////
	sf::Clock _clock;
	float _dt;

	////////////////////////////////////////////////////////////
	/// Scenes of the game
	////////////////////////////////////////////////////////////
	std::stack<Scene*> _scenes;

	void update();
	void render();
};

#endif GAME_STATE_H